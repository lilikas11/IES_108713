
# Exercicio: 2.1

## Embedded Jetty Server

-> Pom.xml:
    Adicionar dependencias:

```xml
    <dependency>
    <groupId>org.eclipse.jetty</groupId>
    <artifactId>jetty-server</artifactId>
    <version>9.2.15.v20160210</version>
</dependency>
<dependency>
    <groupId>org.eclipse.jetty</groupId>
    <artifactId>jetty-servlet</artifactId>
    <version>9.2.15.v20160210</version>
</dependency>

```

-> Criar classe: EmbeddedJettyServer.java

```java
package com.javacodegeeks.example;

import org.eclipse.jetty.server.Server;
import java.io.IOException;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class EmbeddedJettyExample {

        public static void main(String[] args) throws Exception {
            Server server = new Server(8680);
            try {
        server.start();
        server.dumpStdErr();
            server.join();
        } catch (Exception e) {           
            e.printStackTrace();
        }  
        }
}
```

## URL NOTES:

http://127.0.0.1:8680/?msg=%22Hard%20workers%20welcome!%22

msg é um parametro porque está antecedida de ? e separada por &

no código java usamos este parametro da seguinte maneira:

```java
String user = request.getParameter("msg");
```

Para mostrar no browser usamos:

```java
response.getWriter().println("<h1>Hello "  + user.toString() + " </h1>");
```

# Exercicio: 2.2

## Tomcat Server
-> docker-compose.yml:

template:

```yml
version: '3.8'
services:
  tomcat-10-0-11-jdk17:
    image: tomcat:10.0-jdk17
    ports:
#     expose tomcat port 8080(container) on host as port 8888(host)
      - "8888:8080"
#     expose java debugging port 5005 on host as port 5005  (HOST:CONTAINER)
      - "5005:5005"
    command: "catalina.sh run"
    volumes:
#     "host path to the directory with .war file" / "container tomcat directory with webapps"
      - "./target:/usr/local/tomcat/webapps"
    environment:
      JAVA_OPTS: "-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005"
#      JAVA_OPTS: "JAVA_OPTS -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005"
```


-> runs on : http://localhost:8888/JakartaWebStarter-1.0-SNAPSHOT/
-> localhost + port + war file name (articaftID) + version

# Exercicio: 2.3

## Spring Boot

To easy start a maven project: https://start.spring.io/

Dont forget to choose has a dependency: Spring Web

Then use the following command to compile the project:

```bash
mvn -N wrapper:wrapper
mvn clean install
```

Use the following command to run the project:

```bash
mvn install -DskipTests && java -jar target/demo-0.0.1-SNAPSHOT.jar
```
Need to change the name of the jar file to the one generated by the project.

Then access the following url: http://localhost:8080/

## Gradle project

Template on: https://github.com/spring-guides/gs-serving-web-content.git

resources/static -> for home page
resources/templates -> for other pages

Run using: ./gradlew bootRun